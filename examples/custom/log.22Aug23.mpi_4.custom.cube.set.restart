SPARTA (13 Apr 2023)
Running on 4 MPI task(s)
# restart of in.cube.set

seed      12345

# NOTE - add rebalancing option to restart

#read_restart    tmp.cube.read.restart
read_restart    tmp.cube.read.restart.%
  orthogonal box = (0 0 0) to (10 10 10)
  1000 grid cells
  10229 particles
  12 surf triangles
  86 0 = cells overlapping surfs, overlap cells with unmarked corner pts
  912 2 86 = cells outside/inside/overlapping surfs
  80 6 = surf cells with 1,2,etc splits
  973 973 = cell-wise and global flow volume
  Particle custom attributes: ivec iarray dvec darray
  Grid cell custom attributes: ivec iarray dvec darray
  Surface custom attributes: ivec iarray dvec darray
  CPU time = 0.00783345 secs
  read/surf2grid/rebalance/ghost/inout percent = 91.312 6.04304 0.00610204 2.0211 0.617736

surf_collide	    1 diffuse 300.0 0.0
surf_modify         all collide 1

collide             vss air air.vss

timestep 	    0.0001

# output

dump                10 image all 100 tmp.cube.set.restart.image.*.ppm                     type type pdiam 0.1                     surf proc 0.01 size 512 512 axes yes 0.9 0.02 zoom 1.5
dump_modify	    10 pad 4

dump          1 surf all 100 tmp.cube.set.restart.dump.surf id type               s_ivec s_iarray[1] s_iarray[2]               s_dvec s_darray[1] s_darray[2] s_darray[3]

dump          2 grid all 100 tmp.cube.set.restart.dump.grid id               g_ivec g_iarray[1] g_iarray[2]               g_dvec g_darray[1] g_darray[2] g_darray[3]

dump          3 particle all 100 tmp.cube.set.restart.dump.particle id x y               p_ivec p_iarray[1] p_iarray[2]               p_dvec p_darray[1] p_darray[2] p_darray[3]

write_surf      tmp.cube.set.restart.data.surf type                 custom ivec custom iarray custom dvec custom darray                 points no
  surf elements = 12
  CPU time = 9.1395e-05 secs

write_grid      tmp.cube.set.restart.data.grid                 custom ivec custom iarray custom dvec custom darray
  grid cells = 1000
  CPU time = 0.000793609 secs

# third run

fix             1 balance 100 1.01 rcb part flip yes

compute       1 reduce ave p_ivec p_iarray[1] p_iarray[1]               p_dvec p_darray[1] p_darray[2] p_darray[3]
compute       2 reduce ave g_ivec g_iarray[1] g_iarray[1]               g_dvec g_darray[1] g_darray[2] g_darray[3]
compute       3 reduce ave s_ivec s_iarray[1] s_iarray[1]               s_dvec s_darray[1] s_darray[2] s_darray[3]

stats		50
stats_style	step cpu np nattempt ncoll nscoll nscheck f_1[*]                 c_1[*] c_2[*] c_3[*]

run            500
Memory usage per proc in Mbytes:
  particles (ave,min,max) = 2.375 2.375 2.375
  grid      (ave,min,max) = 1.88879 1.88879 1.88879
  surf      (ave,min,max) = 0.00149536 0.00146484 0.00158691
  total     (ave,min,max) = 4.26529 4.26526 4.26538
Step CPU Np Natt Ncoll Nscoll Nscheck f_1[1] f_1[2] f_1[3] c_1[1] c_1[2] c_1[3] c_1[4] c_1[5] c_1[6] c_1[7] c_2[1] c_2[2] c_2[3] c_2[4] c_2[5] c_2[6] c_2[7] c_3[1] c_3[2] c_3[3] c_3[4] c_3[5] c_3[6] c_3[7] 
    1000            0    10229        0        0        0        0         2561    1.0014664            0    2434.4029    2434.6249    2434.6249    2435.2925    2435.5145    2435.7365    2435.9585         5005         5006         5006       5008.5       5009.5       5010.5       5011.5           65           66           66         68.5         69.5         70.5         71.5 
    1050  0.003165033     9321        0        0        8     1633         2561    1.0014664            0      2379.76    2379.9767    2379.9767    2380.6284    2380.8451    2381.0618    2381.2785         5005         5006         5006       5008.5       5009.5       5010.5       5011.5           65           66           66         68.5         69.5         70.5         71.5 
    1100  0.015243877     8431        0        0       13     1409         2114    1.1889456            1     2346.907    2347.1215    2347.1215    2347.7658    2347.9802    2348.1947    2348.4091         5005         5006         5006       5008.5       5009.5       5010.5       5011.5           65           66           66         68.5         69.5         70.5         71.5 
    1150  0.017290962     7494        0        0        9     1324         2114    1.1889456            1    2378.4219     2378.639     2378.639    2379.2917    2379.5088    2379.7259     2379.943         5005         5006         5006       5008.5       5009.5       5010.5       5011.5           65           66           66         68.5         69.5         70.5         71.5 
    1200  0.027273535     6563        0        0        9     1151         1647    1.0287978            2    2388.6777    2388.8961    2388.8961    2389.5519    2389.7703    2389.9886     2390.207         5005         5006         5006       5008.5       5009.5       5010.5       5011.5           65           66           66         68.5         69.5         70.5         71.5 
    1250  0.028911281     5750        0        0        5      999         1647    1.0287978            2     2473.776    2474.0005    2474.0005    2474.6749    2474.8994     2475.124    2475.3485         5005         5006         5006       5008.5       5009.5       5010.5       5011.5           65           66           66         68.5         69.5         70.5         71.5 
    1300  0.038049773     4974        0        0        3      829         1247    1.0776035            3    2577.1645    2577.3977    2577.3977    2578.0968    2578.3301    2578.5633    2578.7965         5005         5006         5006       5008.5       5009.5       5010.5       5011.5           65           66           66         68.5         69.5         70.5         71.5 
    1350  0.039330066     4290        0        0        2      670         1247    1.0776035            3    2634.3597    2634.6002    2634.6002    2635.3216    2635.5622    2635.8028    2636.0433         5005         5006         5006       5008.5       5009.5       5010.5       5011.5           65           66           66         68.5         69.5         70.5         71.5 
    1400  0.047455527     3742        0        0        5      663          939     1.030465            4    2822.4885    2822.7448    2822.7448     2823.512    2823.7683    2824.0246    2824.2809         5005         5006         5006       5008.5       5009.5       5010.5       5011.5           65           66           66         68.5         69.5         70.5         71.5 
    1450  0.048826233     3316        0        0        3      490          939     1.030465            4    2907.1324    2907.3951    2907.3951    2908.1819    2908.4446    2908.7073    2908.9699         5005         5006         5006       5008.5       5009.5       5010.5       5011.5           65           66           66         68.5         69.5         70.5         71.5 
    1500  0.056778818     2952        0        0        4      462          741    1.0474255            5    3028.6101    3028.8814    3028.8814    3029.6961    3029.9674    3030.2388    3030.5101         5005         5006         5006       5008.5       5009.5       5010.5       5011.5           65           66           66         68.5         69.5         70.5         71.5 
Loop time of 0.0567956 on 4 procs for 500 steps with 2952 particles

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Move    | 0.0078572  | 0.0083508  | 0.0094045  |   0.7 | 14.70
Coll    | 0.0024744  | 0.0025929  | 0.0027721  |   0.2 |  4.57
Sort    | 0.00093644 | 0.00098835 | 0.0010894  |   0.0 |  1.74
Comm    | 0.0026935  | 0.0028084  | 0.0028897  |   0.1 |  4.94
Modify  | 0.0014283  | 0.001431   | 0.0014343  |   0.0 |  2.52
Output  | 0.038323   | 0.038335   | 0.03837    |   0.0 | 67.50
Other   |            | 0.002289   |            |       |  4.03

Particle moves    = 3016566 (3.02M)
Cells touched     = 3277676 (3.28M)
Particle comms    = 23365 (23.4K)
Boundary collides = 25075 (25.1K)
Boundary exits    = 7277 (7.28K)
SurfColl checks   = 504305 (0.504M)
SurfColl occurs   = 2644 (2.64K)
Surf reactions    = 0 (0K)
Collide attempts  = 0 (0K)
Collide occurs    = 0 (0K)
Reactions         = 0 (0K)
Particles stuck   = 0
Axisymm bad moves = 0

Particle-moves/CPUsec/proc: 1.32782e+07
Particle-moves/step: 6033.13
Cell-touches/particle/step: 1.08656
Particle comm iterations/step: 2.01
Particle fraction communicated: 0.00774556
Particle fraction colliding with boundary: 0.00831243
Particle fraction exiting boundary: 0.00241235
Surface-checks/particle/step: 0.167179
Surface-collisions/particle/step: 0.000876493
Surf-reactions/particle/step: 0
Collision-attempts/particle/step: 0
Collisions/particle/step: 0
Reactions/particle/step: 0

Particles: 738 ave 741 max 736 min
Histogram: 1 0 1 0 1 0 0 0 0 1
Cells:      253 ave 294 max 215 min
Histogram: 1 0 0 1 0 1 0 0 0 1
GhostCell: 175.5 ave 204 max 149 min
Histogram: 1 0 0 1 0 0 1 0 0 1
EmptyCell: 120 ave 130 max 110 min
Histogram: 1 0 0 0 0 2 0 0 0 1
Surfs:    36.25 ave 44 max 31 min
Histogram: 1 0 0 2 0 0 0 0 0 1
GhostSurf: 0.25 ave 1 max 0 min
Histogram: 3 0 0 0 0 0 0 0 0 1

write_surf      tmp.cube.set.restart.data.surf2 type                 custom ivec custom iarray custom dvec custom darray                 points no
  surf elements = 12
  CPU time = 6.3488e-05 secs

write_grid      tmp.cube.set.restart.data.grid2                 custom ivec custom iarray custom dvec custom darray
  grid cells = 1000
  CPU time = 0.000803476 secs

# remove all custom attributes

undump         1
undump         2
undump         3

custom         surf ivec remove
custom         surf iarray remove
custom         surf dvec remove
custom         surf darray remove

custom         grid ivec remove
custom         grid iarray remove
custom         grid dvec remove
custom         grid darray remove

custom         particle ivec remove
custom         particle iarray remove
custom         particle dvec remove
custom         particle darray remove

# fourth run

uncompute       1
uncompute       2
uncompute       3
stats_style	step cpu np nattempt ncoll nscoll nscheck f_1[*]

run            500
Memory usage per proc in Mbytes:
  particles (ave,min,max) = 1.6875 1.6875 1.6875
  grid      (ave,min,max) = 1.88879 1.88879 1.88879
  surf      (ave,min,max) = 0.00482178 0.00415039 0.00585938
  total     (ave,min,max) = 3.58112 3.58044 3.58215
Step CPU Np Natt Ncoll Nscoll Nscheck f_1[1] f_1[2] f_1[3] 
    1500            0     2952        0        0        0        0          741    1.0474255            5 
    1550  0.000880025     2651        0        0        3      392          741    1.0474255            5 
    1600  0.007128561     2378        0        0        4      381          597    1.0378469            6 
    1650  0.007954413     2136        0        0        0      324          597    1.0378469            6 
    1700  0.014337627     1918        0        0        2      317          482    1.1386861            7 
    1750  0.015048957     1759        0        0        3      317          482    1.1386861            7 
    1800   0.02125013     1603        0        0        0      247          403    1.0230817            8 
    1850  0.021890497     1462        0        0        3      277          403    1.0230817            8 
    1900  0.027636287     1354        0        0        2      237          342    1.0516987            9 
    1950  0.028208382     1262        0        0        0      202          342    1.0516987            9 
    2000  0.033848719     1157        0        0        1      184          293    1.1235955           10 
Loop time of 0.0338642 on 4 procs for 500 steps with 1157 particles

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Move    | 0.002499   | 0.0025638  | 0.0026558  |   0.1 |  7.57
Coll    | 0.001207   | 0.001225   | 0.001259   |   0.1 |  3.62
Sort    | 0.00036295 | 0.00037549 | 0.00039125 |   0.0 |  1.11
Comm    | 0.0017917  | 0.0018358  | 0.0018872  |   0.1 |  5.42
Modify  | 0.0010885  | 0.0010896  | 0.0010916  |   0.0 |  3.22
Output  | 0.025827   | 0.025838   | 0.025872   |   0.0 | 76.30
Other   |            | 0.0009363  |            |       |  2.76

Particle moves    = 926577 (0.927M)
Cells touched     = 992400 (0.992M)
Particle comms    = 5812 (5.81K)
Boundary collides = 6520 (6.52K)
Boundary exits    = 1795 (1.79K)
SurfColl checks   = 145868 (0.146M)
SurfColl occurs   = 657 (0.657K)
Surf reactions    = 0 (0K)
Collide attempts  = 0 (0K)
Collide occurs    = 0 (0K)
Reactions         = 0 (0K)
Particles stuck   = 0
Axisymm bad moves = 0

Particle-moves/CPUsec/proc: 6.84038e+06
Particle-moves/step: 1853.15
Cell-touches/particle/step: 1.07104
Particle comm iterations/step: 1.968
Particle fraction communicated: 0.00627255
Particle fraction colliding with boundary: 0.00703665
Particle fraction exiting boundary: 0.00193724
Surface-checks/particle/step: 0.157427
Surface-collisions/particle/step: 0.000709061
Surf-reactions/particle/step: 0
Collision-attempts/particle/step: 0
Collisions/particle/step: 0
Reactions/particle/step: 0

Particles: 289.25 ave 293 max 284 min
Histogram: 1 0 0 0 1 0 0 0 1 1
Cells:      253 ave 320 max 203 min
Histogram: 1 1 0 0 0 1 0 0 0 1
GhostCell: 157 ave 178 max 129 min
Histogram: 1 0 0 0 0 0 2 0 0 1
EmptyCell: 117.5 ave 130 max 110 min
Histogram: 2 0 0 0 0 1 0 0 0 1
Surfs:    66.25 ave 88 max 53 min
Histogram: 1 1 0 1 0 0 0 0 0 1
GhostSurf: 0 ave 0 max 0 min
Histogram: 4 0 0 0 0 0 0 0 0 0
