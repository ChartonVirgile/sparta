"SPARTA WWW Site"_sws - "SPARTA Documentation"_sd - "SPARTA Commands"_sc :c

:link(sws,http://sparta.sandia.gov)
:link(sd,Manual.html)
:link(sc,Section_commands.html#comm)

:line

set command :h3

[Syntax:]

set style subset-ID region-ID custom-ID v_name keyword arg ... :pre

style = {particle} or {grid} or {surf} :ulb,l
subset-ID = mixture ID (particles) or group ID (grid cells or surface elements) :l
region-ID = only apply to particle/grid/surf in region, NULL if not applicable :l
custom-ID = reference to custom attribute to set :l
  p_ID = custom per-particle vector with ID
  p_ID\[N\] = Nth column of custom per-particle array with ID
  g_ID = custom per-grid vector with ID
  g_ID\[N\] = Nth column of custom per-grid array with ID
  s_ID = custom per-surf vector with ID
  s_ID\[N\] = Nth column of custom per-surf array with ID :pre
v_name = equal- or particle- or grid- or surf-style variable with name :l
zero of more keyword/arg pairs may be appended :l
keyword = {type} or {size}
  {type} arg = {int} or {float}
  {size} arg = M for number of columns in a new custom array :pre
:ule

[Examples:]

set particle air NULL p_flag 
mixture air N O NO group lite
mixture air N O NO vstream 250.0 0.0 0.0 group species
mixture air N frac 0.8
mixture air O frac 0.2 copy myAir
mixture background N O 
mixture air delete N NO :pre

[Description:]

Set values for a new or previouly defined custom attibute via a
variable.  The attribute can be for particles, grid cells, or surface
elements.  Custom attributes can be vectors (single value per entity)
or arrays (mutiple values per entity).  See "Section
6.17"_Section_howto.html#howto_17 for more discussion of custom
attributes.

The specified {style} setting is {particle} or {grid} or {surf}
depending on which kind of custom attribute is being set.

There are two ways to limit which particles, grid cells, or surface
elements are assigned a custom value, via {subset-ID} and {region-ID}.
An individual particle, grid cell, or surface element must meet both
criteria to have its custom value set, otherwise it's value is set to
zero.

The specified {subset-ID} is the ID of a mixture for particles or the
ID of a group of grid cells or surface elements.  Only particles in
the mixture or grid cells/surface elements in the group will be
assigned values.  See the "mixture"_mixture.html and
"group"_group.html commands for more details.  Note that "all" is a
pre-defined mixture ID which contains all particles.  Likewise "all"
is the name of a pre-defined group with all grid cells or surface
elements.

The specified {region-ID} is the ID of a geometric region defined by
the "region"_region.html command.  Only particles or grid cells or
surface elements in the region will have their values set.  The center
point of a grid cell or surface element is used for the region check.
If {region-ID} is specified as NULL, then the region criterion is not
applied.

The custom attribute is specified with a "p_" or "g_" or "s_" prefix
followed by the name of the attribute, for particles, grid cells, and
surface elements respectively.  Custom attributes can be vectors
(single value per entity) or arrays (mutiple values per entity).  To
set the values for a custom vector, use the name without brackets,
e.g. s_temp.  To set the values for a single column of a custom array,
use the name suffixed by a bracketed integer, e.g. p_dipole[3].  The
integer must be a value from 1 to M, where M is the number of columns
(values per entity) in the array.

If the named custom attribute already exists, its values are
overwritten by this command.  If is does not exist, a new custom
attribute is created, and all its values are set.  As noted above,
values for entities not in the {subset-ID} or {region-ID} are set to
zero.

Two optional keywords affect the creation of a new custom vector or
array.  The {type} keyword can be used with {int} or {float} as its
arg.  The created custom attribute will then store integer versus
floating-point values.  Floating point values are the default.  The
{size} keyword can be used with arg = 0 to create a custom vector
(which is the default).  It can also be used with an arg M >= 1 to
create an array with M columns.  This means that if a new custom name
is specified with no brackets, the {size} keyword is not necessary,
because it refers to a custom vector.  But if a new custom name with a
bracket is used, the {size} keyword must be used so that the column
dimension of the array is known.

The specified {v_name} is the name of a previously defined variable
which this command will evaluate.  It must be either an equal-style or
particle-style or grid-style or surf-style variable.  All of these
styles define a mathematical formula which is used to compute the
value(s) of the variable.  See the "variable"_variable.html for
details.

If an equal-style variable is specified, it produces a single value
which will be assigned to all particles or grid cells or surface
elements.  Otherwise a particle-style variable must be used for style
= {particle}, a grid-style variable for style = {grid}, or a
surf-style variable for style = {surf}.

Note that the latter 3 variable styles can include the spatial
position of the particle, grid cell, or surface element in their
formula. So it is easy to calculate values for each entity which vary
spatially and also which depend on the current timestep.

:line

[Restrictions:] none

[Related commands:]

"mixture"_mixture.html, "group"_group.html, "region"_region.html

[Default:]

The default settings for creation of new custom attibute are type =
float and size = 0.
